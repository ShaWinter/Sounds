(window.webpackJsonp=window.webpackJsonp||[]).push([[3,23,59,61,62],{1119:function(t,e,n){var content=n(1198);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("5fb4932a",content,!0,{sourceMap:!1})},1197:function(t,e,n){"use strict";n(1119)},1198:function(t,e,n){var o=n(51)((function(i){return i[1]}));o.push([t.i,".sound-card{position:relative;}.sound-card__content{display:grid;grid-gap:var(--gap-16);grid-template-columns:1fr 40px}.sound-card__grid{display:grid;grid-gap:var(--gap-16);grid-template-columns:minmax(72px,120px) minmax(165px,372px);}.sound-card__grid-clickable{cursor:pointer}.sound-card__image{width:100%;min-width:72px;max-width:120px;height:var(--image-ratio,110px);min-height:72px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;border-radius:var(--border-radius-m);}.sound-card__image--big{height:var(--image-ratio,120px)}.sound-card__details{display:flex;flex-direction:column;}.sound-card__details h2{margin:0;overflow:hidden;color:var(--color-neutral-100);font-weight:var(--font-weight-regular);font-size:var(--body-1);white-space:nowrap;text-overflow:ellipsis}.sound-card__details small{display:block;margin:0;color:var(--color-neutral-200);font-size:var(--body-3)}.sound-card__category{display:flex;flex-wrap:wrap;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin-top:var(--gap-8);-moz-column-gap:var(--gap-8);column-gap:var(--gap-8);}.sound-card__category .classification-pill-container{pointer-events:all}.sound-card__player{margin-top:var(--gap-16)}.sound-card__context-menu{z-index:10}.sound-card--context-active{z-index:2}",""]),o.locals={},t.exports=o},700:function(t,e,n){"use strict";n.r(e);n(60);var o={name:"Card",props:{isPaddingBig:{type:Boolean,default:!1},theme:{type:String,default:"default",validator:function(t){return["default","trending","glowing"].includes(t)}},isClickable:{type:Boolean,default:!0}}},r=(n(750),n(28)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card",class:["card--"+t.theme,{"card--padded":t.isPaddingBig},{"card--clickable":t.isClickable}]},[n("div",{staticClass:"card__content",class:{"card__content--no-shadow":!t.isClickable}},[t._t("default")],2)])}),[],!1,null,null,null);e.default=component.exports},713:function(t,e,n){var content=n(751);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("1f54a38e",content,!0,{sourceMap:!1})},720:function(t,e,n){"use strict";n.r(e);n(60),n(75),n(9),n(6);var o=n(354),r=n.n(o),d=n(937),l=n(731),c=n(700),h=n(53),f=n(939),m=n(994),v=n(241),x={name:"SoundCard",components:{AudioPlayer:d.default,SharedClassificationPill:l.default,Card:c.default,ContextMenu:f.default,SharedButton:h.default,NavigationHamburger:v.default},directives:{ClickOutside:r.a},mixins:[m.a],inject:["isDeviceWindows","getUserLikedSounds"],transition:"fade",props:{theme:{type:String,default:"default"},sound:{type:Object,required:!0},showActions:{type:Boolean,default:!0},bigImage:{type:Boolean,default:!1},userId:{type:String,default:null},isClickable:{type:Boolean,default:!0},isViewerOwner:{type:Boolean,default:!1},isViewerAdmin:{type:Boolean,default:!1}},data:function(){return{contextMenuActive:!1,mouseEvent:null,soundPlaying:!1}},computed:{contentComponent:function(){return this.isClickable?"nuxt-link":"div"},contentTo:function(){return this.isClickable?"/sound/".concat(this.sound.id):null},isMobile:function(){return this.$device.isMobile},isUserOwner:function(){return this.userId===this.sound.owner.id},isUserProfilePage:function(){return this.$route.params.slug===this.sound.owner.slug},isSoundboardPage:function(){return this.$route.path.includes("soundboards")},userLikedSounds:function(){return this.getUserLikedSounds()},isSoundLiked:function(){var t=this;return this.userLikedSounds&&this.userLikedSounds.filter((function(e){return e===t.sound.id})).length>0}},mounted:function(){this.imageResize(),window.addEventListener("resize",this.imageResize)},destroyed:function(){window.removeEventListener("resize",this.imageResize)},methods:{imageResize:function(){this.$refs.image&&this.$refs.image.style.setProperty("--image-ratio",this.$refs.image.clientWidth+"px")},handleContextMenuClose:function(){this.$refs.contextMenuButton.$el.getElementsByTagName("button")[0].focus(),this.contextMenuActive=!1},handleContextMenuClickOutside:function(){this.contextMenuActive=!1},toggleContextMenu:function(t){this.mouseEvent=t.y,this.contextMenuActive=!this.contextMenuActive},handleVisitProfile:function(){this.$router.push({path:"/user/".concat(this.sound.owner.slug)})},soundPaused:function(data){this.$emit("soundPaused",data)},handleDownloadBlob:function(data){this.$emit("onDownloadBlob",data)},handleDeepLinkClick:function(){this.$emit("onDeepLinkClick",this.sound.id)},handleReportSound:function(){this.$emit("onReportSound",this.sound.id)},handleContentClickAction:function(){this.isClickable&&this.$emit("onClickEvent")},handleShareSound:function(){this.$emit("onShareSound",this.sound)},handleAddSoundToSoundboard:function(){this.$emit("onAddSoundToSoundboard",this.sound)},handleAddLikedSound:function(data){this.$emit("onAddSoundToLiked",data),this.contextMenuActive&&this.handleContextMenuClose()},handleRemoveLikedSound:function(data){this.$emit("onRemoveSoundFromLiked",data),this.contextMenuActive&&this.handleContextMenuClose()},handleRemoveSoundFromSoundboard:function(){this.$emit("onRemoveSoundFromSoundboard",this.sound)},handleSliderClick:function(t){var e=t.soundId,n=t.soundDuration;this.$emit("onSliderClick",{soundId:e,soundDuration:n})}}},_=(n(1197),n(28)),component=Object(_.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Card",{staticClass:"sound-card",class:{"sound-card--context-active":t.contextMenuActive},attrs:{"data-testid":"sound-card","is-clickable":t.isClickable,theme:t.theme}},[n("div",{staticClass:"sound-card__content"},[n(t.contentComponent,{tag:"component",staticClass:"sound-card__grid",class:{"sound-card__grid-clickable":t.isClickable},attrs:{to:t.contentTo,"data-testid":"sound-card-content"},nativeOn:{click:function(e){return t.handleContentClickAction()}}},[n("img",{ref:"image",staticClass:"sound-card__image",class:t.bigImage&&"sound-card__image--big",attrs:{alt:t.sound.title,src:t.sound.imagePath}}),t._v(" "),n("div",{staticClass:"sound-card__details"},[n("h2",[t._v(t._s(t.sound.title))]),t._v(" "),n("small",[t._v("\n                        "+t._s(t.$t("tuna.sound.by"))+" "+t._s(t.sound.owner.name)+"\n                    ")]),t._v(" "),n("div",{staticClass:"sound-card__category"},[n("SharedClassificationPill",{attrs:{id:t.sound.category,"label-text":t.sound.category}})],1)])]),t._v(" "),t.showActions?[n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.handleContextMenuClickOutside,expression:"handleContextMenuClickOutside"}]},[n("SharedButton",{ref:"contextMenuButton",staticClass:"sound-card__context-menu",attrs:{theme:"subtle-primary","label-text":t.$t("tuna.navigation.openSoundContextMenu"),"show-label":!1},on:{onClick:t.toggleContextMenu},scopedSlots:t._u([{key:"icon",fn:function(){return[n("NavigationHamburger",{attrs:{dotted:"","aria-hidden":"true"}})]},proxy:!0}],null,!1,1907132610)}),t._v(" "),n("ContextMenu",{attrs:{"is-active":t.contextMenuActive,"event-position":t.mouseEvent},on:{onCloseContextual:t.handleContextMenuClose},scopedSlots:t._u([{key:"list",fn:function(){return[!t.isMobile&&t.isDeviceWindows?n("li",{attrs:{role:"none"}},[n("SharedButton",{attrs:{theme:"list",role:"menuitem","label-text":t.$t("tuna.sound.contextMenu.sendToVoicemod")},on:{onClick:function(e){return t.handleDeepLinkClick()}}})],1):t._e(),t._v(" "),n("li",{attrs:{role:"none"}},[n("SharedButton",{attrs:{theme:"list",role:"menuitem","label-text":t.$t("tuna.sound.contextMenu.download")},on:{onClick:function(e){return t.handleDownloadBlob({sound:t.sound})}}})],1),t._v(" "),n("li",{attrs:{role:"none"}},[n("SharedButton",{attrs:{theme:"list",role:"menuitem","label-text":t.$t("tuna.sound.contextMenu.share")},on:{onClick:function(e){return t.handleShareApi(t.sound,t.handleShareSound)}}})],1),t._v(" "),n("li",{attrs:{role:"none"}},[n("SharedButton",{attrs:{theme:"list",role:"menuitem","label-text":t.$t("tuna.sound.contextMenu.addSound")},on:{onClick:t.handleAddSoundToSoundboard}})],1),t._v(" "),t.isSoundLiked?n("li",{attrs:{role:"none"}},[n("SharedButton",{attrs:{theme:"list",role:"menuitem","label-text":t.$t("tuna.sound.contextMenu.removeLikedSound")},on:{onClick:function(e){return t.handleRemoveLikedSound(t.sound)}}})],1):n("li",{attrs:{role:"none"}},[n("SharedButton",{attrs:{theme:"list",role:"menuitem","label-text":t.$t("tuna.sound.contextMenu.addLikedSound")},on:{onClick:function(e){return t.handleAddLikedSound(t.sound)}}})],1),t._v(" "),t.isViewerOwner&&t.isSoundboardPage?n("li",{attrs:{role:"none"}},[n("SharedButton",{attrs:{theme:"list",role:"menuitem","label-text":t.$t("tuna.sound.contextMenu.removeSound")},on:{onClick:t.handleRemoveSoundFromSoundboard}})],1):t._e(),t._v(" "),t.isUserOwner||t.isUserProfilePage?t._e():[t.sound.anonymous?t._e():n("li",{attrs:{role:"none"}},[n("SharedButton",{attrs:{theme:"list",role:"menuitem","label-text":t.$t("tuna.sound.contextMenu.visitProfile")},on:{onClick:t.handleVisitProfile}})],1),t._v(" "),n("hr"),t._v(" "),n("li",{attrs:{role:"none"}},[n("SharedButton",{attrs:{theme:"list",role:"menuitem","label-text":t.$t("tuna.sound.contextMenu.report")},on:{onClick:t.handleReportSound}})],1)]]},proxy:!0}],null,!1,3217896400)})],1)]:t._e()],2),t._v(" "),n("div",{staticClass:"sound-card__player"},[n("AudioPlayer",{attrs:{sound:t.sound,"show-actions":t.showActions},on:{onDownloadBlob:t.handleDownloadBlob,onDeepLinkClick:t.handleDeepLinkClick,onSliderClick:t.handleSliderClick,soundPaused:t.soundPaused,onShareSound:t.handleShareSound,onAddSoundToLiked:t.handleAddLikedSound,onRemoveSoundFromLiked:t.handleRemoveLikedSound}})],1)])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SharedClassificationPill:n(731).default,NavigationHamburger:n(241).default,SharedButton:n(53).default})},731:function(t,e,n){"use strict";n.r(e);n(60);var o={name:"ClassificationPill",props:{type:{type:String,default:"category",validator:function(t){return["category","tag"].includes(t)}},id:{type:String,required:!0},labelText:{type:String,required:!0},showLabel:{type:Boolean,default:!0},isClickable:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1}},methods:{handleClick:function(t){this.$emit("onClick",t)}}},r=(n(810),n(28)),component=Object(r.a)(o,(function(){var t,e=this,n=e.$createElement,o=e._self._c||n;return o("div",{staticClass:"classification-pill-container",class:[{"classification-pill-container--onlyIcon":!e.showLabel},{"classification-pill-container--is-clickable":e.isClickable},{"classification-pill-container--is-selected":e.isSelected}]},[o("button",{staticClass:"classification-pill-container__button",class:(t={},t["classification-pill-container__button--"+e.id]="category"===e.type,t),attrs:{"aria-label":e.labelText},on:{click:e.handleClick}},[o("span",{staticClass:"pill-content"},[e.$slots.icon?o("span",{staticClass:"pill-content__icon",attrs:{"aria-hidden":"true"}},[e._t("icon")],2):e._e(),e._v(" "),e.showLabel?o("span",{staticClass:"pill-content__text"},[e._v("\n                "+e._s(e.labelText)+"\n            ")]):e._e()])])])}),[],!1,null,"5005d52b",null);e.default=component.exports},750:function(t,e,n){"use strict";n(713)},751:function(t,e,n){var o=n(51)((function(i){return i[1]}));o.push([t.i,'.card{--card-padding:var(--gap-16);position:relative;transition:transform .4s ease,opacity .2s ease;}.card__content{position:relative;display:block;width:100%;min-width:288px;padding:var(--card-padding);background:var(--color-neutral-700);border-radius:var(--border-radius-l);}.card__content:not(.card__content--no-shadow){box-shadow:2px 4px 12px 0 var(--color-transparent-black-04);transition:box-shadow .4s ease}@media (min-width:411px){.card__content{min-width:328px}}.card--padded{--card-padding:var(--gap-24)}.card--fluid-padding{--card-padding:var(--gap-16-24)}.card--glowing:before,.card--trending:before{position:absolute;top:-4px;left:-4px;width:calc(100% + 8px);height:calc(100% + 8px);background-image:linear-gradient(315deg,#55f222,#00fff6 31.98%,#e88aff 66.47%,#ffd719);background-position:0 0;background-size:300%;border-radius:20px;opacity:0;transition:opacity .4s ease;-webkit-animation:animatedgradient 2.5s ease infinite alternate;animation:animatedgradient 2.5s ease infinite alternate;content:""}.card--glowing:before{opacity:1}.card.card--clickable:hover{transform:translate3d(0,-8px,0);cursor:pointer;}.card.card--clickable:hover.card--trending:before{opacity:1}.card.card--clickable:hover.card--trending:after{opacity:.8}.card.card--clickable:hover__content{box-shadow:0 8px 12px 0 var(--color-transparent-black-02)}@-webkit-keyframes animatedgradient{to{background-position:100% 0}}@keyframes animatedgradient{to{background-position:100% 0}}',""]),o.locals={},t.exports=o},761:function(t,e,n){var content=n(811);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("c5fcd09e",content,!0,{sourceMap:!1})},789:function(t,e,n){var content=n(860);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("45f34a2f",content,!0,{sourceMap:!1})},810:function(t,e,n){"use strict";n(761)},811:function(t,e,n){var o=n(51)((function(i){return i[1]}));o.push([t.i,".classification-pill-container[data-v-5005d52b]{--font-size:var(--body-2);--bg-primary:var(--color-neutral-700);--bg-secondary:var(--color-neutral-800);--text-color:var(--color-neutral-200);--text-color-hover:var(--color-neutral-100);--padding-h:var(--gap-16);--border-radius:calc(var(--height)/2);--border-color:var(--color-neutral-900);--height:28px;}.classification-pill-container__button[data-v-5005d52b]{width:100%;height:var(--height);padding:0 var(--padding-h);overflow:hidden;color:var(--text-color);font-size:var(--body-2);background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:var(--border-radius);pointer-events:none;}.classification-pill-container__button[data-v-5005d52b]:active{color:var(--text-color-hover);background-color:var(--bg-secondary)}.classification-pill-container__button .pill-content[data-v-5005d52b]{display:flex;align-items:center;justify-content:center;}.classification-pill-container__button .pill-content__icon[data-v-5005d52b]{width:24px;height:24px;margin-right:8px;margin-left:calc(var(--padding-h)*-1 + 2px);background:#ff0;border-radius:50%}.classification-pill-container__button .pill-content__text[data-v-5005d52b]{line-height:1;text-transform:capitalize}.classification-pill-container--onlyIcon .classification-pill-container__button[data-v-5005d52b]{padding:0;}.classification-pill-container--onlyIcon .classification-pill-container__button .pill-content__icon[data-v-5005d52b]{margin-right:0;margin-left:0}.classification-pill-container--is-clickable .classification-pill-container__button[data-v-5005d52b]{cursor:pointer;pointer-events:all}@media (min-width:1024px){.classification-pill-container--is-clickable:hover .pill-content__text[data-v-5005d52b]{color:var(--text-color-hover)}}.classification-pill-container--is-selected .classification-pill-container__button[data-v-5005d52b]{background-color:var(--bg-secondary)}.classification-pill-container--is-selected .pill-content__text[data-v-5005d52b]{color:var(--text-color-hover)}",""]),o.locals={},t.exports=o},859:function(t,e,n){"use strict";n(789)},860:function(t,e,n){var o=n(51)((function(i){return i[1]}));o.push([t.i,".context-menu[data-v-00d965a1]{--context-bg-color:var(--color-neutral-500);--context-border-radius:var(--border-radius-m);--context-hover-bg-color:var(--color-neutral-600);--context-separator-bg-color:var(--color-neutral-300);--context-shadow:0 6px 17px 0 rgba(0,0,0,0.4);position:absolute;bottom:0;min-width:195px;max-width:250px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin:0;padding:0;overflow-y:overlay;background:var(--context-bg-color);border-radius:var(--context-border-radius);box-shadow:var(--context-shadow);visibility:hidden;opacity:0;transition:opacity .5s ease;pointer-events:none;}.context-menu li[data-v-00d965a1]{list-style:none;}.context-menu li .button-container[data-v-00d965a1]{display:inline-block;width:100%}.context-menu li[data-v-00d965a1]:focus-within,.context-menu li[data-v-00d965a1]:hover{background-color:var(--context-hover-bg-color)}.context-menu li[data-v-00d965a1]:first-child{padding-top:8px}.context-menu li[data-v-00d965a1]:last-child{padding-bottom:8px}.context-menu hr[data-v-00d965a1]{height:1px;margin:8px 24px;background-color:var(--context-separator-bg-color);border:none}.context-menu--active[data-v-00d965a1]{z-index:var(--z-context-menu);visibility:visible;opacity:1;pointer-events:all}.context-menu--theme-sound[data-v-00d965a1]{top:64px;right:20px;}.context-menu--theme-sound.context-menu--top[data-v-00d965a1]{top:auto;bottom:95%}.context-menu--theme-soundboard[data-v-00d965a1]{top:92px;right:6px;}.context-menu--theme-soundboard.context-menu--top[data-v-00d965a1]{top:auto;bottom:85%}",""]),o.locals={},t.exports=o},939:function(t,e,n){"use strict";n.r(e);var o=n(1),r=(n(468),n(60),{props:{isActive:{type:Boolean,default:!1},eventPosition:{type:Number,default:null},theme:{type:String,default:"sound",validator:function(t){return["sound","soundboard"].includes(t)}}},data:function(){return{contextMenuFromBottom:!1,currentOption:-1}},computed:{lastOptionIndex:function(){return this.$refs.contextMenu.getElementsByTagName("li").length-1}},watch:{isActive:function(t){if(t){window.addEventListener("keydown",this.onKeyDown);var e=this.$refs.contextMenu.offsetHeight;return this.eventPosition+e+40>window.innerHeight?void(this.contextMenuFromBottom=!0):void(this.contextMenuFromBottom=!1)}this.currentOption=-1,window.removeEventListener("keydown",this.onKeyDown)}},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeyDown)},methods:{onKeyDown:function(t){var e,n=this,r=(e={},Object(o.a)(e,"ArrowUp",(function(){return n.onArrowPressed()})),Object(o.a)(e,"ArrowDown",(function(){return n.onArrowPressed(!0)})),Object(o.a)(e,"Escape",(function(){return n.$emit("onCloseContextual")})),e);r[t.code]&&(t.preventDefault(),r[t.code]())},onArrowPressed:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t?this.currentOption++:this.currentOption--,this.currentOption>this.lastOptionIndex)return this.currentOption=0,void this.$refs.contextMenu.getElementsByTagName("li")[this.currentOption].getElementsByTagName("button")[0].focus();this.currentOption<0&&(this.currentOption=this.lastOptionIndex),this.$refs.contextMenu.getElementsByTagName("li")[this.currentOption].getElementsByTagName("button")[0].focus()}}}),d=r,l=(n(859),n(28)),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("ul",{ref:"contextMenu",staticClass:"context-menu",class:[{"context-menu--active":t.isActive},{"context-menu--top":t.contextMenuFromBottom},"context-menu--theme-"+t.theme],attrs:{role:"menu","aria-haspopup":t.isActive,"aria-expanded":t.isActive}},[t._t("list")],2)}),[],!1,null,"00d965a1",null);e.default=component.exports}}]);